# CRD stubs for GKE-specific resources used in the production overlay.
# These allow server-side dry-run validation against a mock Kubernetes cluster
# (e.g. kind) without requiring a real GKE environment.
#
# Note: all stubs use x-kubernetes-preserve-unknown-fields: true so that the
# mock cluster accepts any object structure for these CRs without schema errors.
# This means only native Kubernetes resources (Deployments, Services, etc.) are
# structurally validated; GKE-specific CRs are validated only for basic API
# correctness (e.g. group/version/kind, metadata).
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: backendconfigs.cloud.google.com
spec:
  group: cloud.google.com
  names:
    kind: BackendConfig
    listKind: BackendConfigList
    plural: backendconfigs
    singular: backendconfig
  scope: Namespaced
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        type: object
        x-kubernetes-preserve-unknown-fields: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: frontendconfigs.networking.gke.io
spec:
  group: networking.gke.io
  names:
    kind: FrontendConfig
    listKind: FrontendConfigList
    plural: frontendconfigs
    singular: frontendconfig
  scope: Namespaced
  versions:
  - name: v1beta1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        type: object
        x-kubernetes-preserve-unknown-fields: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: managedcertificates.networking.gke.io
spec:
  group: networking.gke.io
  names:
    kind: ManagedCertificate
    listKind: ManagedCertificateList
    plural: managedcertificates
    singular: managedcertificate
  scope: Namespaced
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        type: object
        x-kubernetes-preserve-unknown-fields: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: podmonitorings.monitoring.googleapis.com
spec:
  group: monitoring.googleapis.com
  names:
    kind: PodMonitoring
    listKind: PodMonitoringList
    plural: podmonitorings
    singular: podmonitoring
  scope: Namespaced
  versions:
  - name: v1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        type: object
        x-kubernetes-preserve-unknown-fields: true
